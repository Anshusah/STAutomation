<!-- Hidden Fields : Start -->
@using Cicero.Service.Models.Core.Elements
@model Cicero.Service.Models.Core.Elements.Button;
@using Cicero.Service.Services
@inject ICommonService commonService
@using static Cicero.Service.Enums;
@inject ISynchronizeService SynchronizeService
@inject IQueueService QueueService
@inject IFormBuilderService FormBuilderService

@{
    Button hd = Model as Button;
    int formId = Convert.ToInt32(hd.Data);
    List<SelectListItem> dbTables = SynchronizeService.getSyncSourceTable();
    string loggeduser = commonService.getLoggedInUserId();
    string roleId = commonService.GetRoleIdByUserId(loggeduser);
    List<SelectListItem> stateList = QueueService.GetStateSelectListByFormId(formId, roleId);
    List<SelectListItem> formElements = FormBuilderService.GetFormFields(formId, true);
    List<SelectListItem> formAllElements = FormBuilderService.GetFormFields(formId, true, true);
}

<div class="modal-header flex-column">
    <h5 class="modal-title">Button Setting</h5>
    <p class="mb-0">This settings helps you to customize Button</p>
</div>
<div class="status"></div>
<div class="modal-body">
    <ul class="fb-card">
        <li class="active">
            <header>Name</header>
            <section>
                <div class="form-row">
                    <div class="form-group col-lg-6">
                        <label for="ElementName_@hd.ElementId">Element Name</label>
                        <input type="text" class="form-control" id="ElementName_@hd.ElementId" @hd.GetName("Name") data-name="elmName" value="@hd.Name" />
                        <small class="form-text text-muted">Input a Unique Name for this Element.</small>
                        <span class="field-validation-valid" data-valmsg-for="ElementName_@hd.ElementId" data-valmsg-replace="true"></span>
                    </div>
                </div>
            </section>
        </li>
        <li>
            <header>Frontend Setting</header>
            <section>
                <input type="hidden" @hd.GetName("ElementId") value="@hd.ElementId" />
                <div class="form-row">
                    <div class="form-group col-lg-6">
                        <label for="buttonFrontendId_@hd.FrontendId">Id</label>
                        <input type="text" id="buttonFrontendId_@hd.FrontendId" class="form-control" @hd.GetName("FrontendId") value="@hd.FrontendId" />
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="buttonFrontendClass_@hd.FrontendId">Class</label>
                        <input type="text" id="buttonFrontendClass_@hd.FrontendId" class="form-control" @hd.GetName("FrontendClass") value="@hd.FrontendClass" />

                    </div>

                    <div class="form-group col-lg-6">
                        <label for="buttonFrontendLabel_@hd.FrontendId">Label</label>
                        <input type="text" class="form-control" id="buttonFrontendLabel_@hd.FrontendId" @hd.GetName("FrontendLabel") value="@hd.FrontendLabel" />
                    </div>

                    <div class="form-group col-lg-6">
                        <label for="frontendIcon_@hd.FrontendId">Icon</label>
                        <div class="input-group">
                            <input type="text" class="form-control" @hd.GetName("FrontendIcon") id="frontendIcon_@hd.FrontendId" value="@hd.FrontendIcon">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" id="selectIconFrontend" type="button" onclick="showIcons('frontend')">Select Icon</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="switch-control switch-control--inline">
                    <label for="buttonFrontendVisible_@hd.FrontendId" class="switch">
                        <input class="switch__input" id="buttonFrontendVisible_@hd.FrontendId" @hd.GetName("FrontendVisible") type="checkbox" value="true" @hd.GetChecked(hd.FrontendVisible)>
                        <span class="switch__state"></span>
                        <span class="switch__label">Default visible</span>
                    </label>
                </div>

                <div class="switch-control switch-control--inline">
                    <label for="iconFrontendVisibility_@hd.FrontendId" class="switch">
                        <input class="switch__input" id="iconFrontendVisibility_@hd.FrontendId" @hd.GetName("FrontendIconVisibility") type="checkbox" value="true" @hd.GetChecked(hd.FrontendIconVisibility)>
                        <span class="switch__state"></span>
                        <span class="switch__label">Icon Visibility</span>
                    </label>
                </div>

                <div class="switch-control switch-control--inline">
                    <label for="buttonVisibleinFooter_@hd.FrontendId" class="switch">
                        <input class="switch__input" id="buttonVisibleinFooter_@hd.FrontendId" @hd.GetName("VisibleinFooter") type="checkbox" value="true" @hd.GetChecked(hd.VisibleinFooter)>
                        <span class="switch__state"></span>
                        <span class="switch__label">Visible In Footer</span>
                    </label>
                </div>

            </section>
        </li>
        <li>
            <header>Backend Setting</header>
            <section>
                <div class="form-row">
                    <div class="form-group col-lg-6">
                        <label for="buttonBackendId_@hd.BackendId">Id</label>
                        <input type="text" class="form-control" id="buttonBackendId_@hd.BackendId" @hd.GetName("BackendId") value="@hd.BackendId" />
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="buttonBackendClass_@hd.BackendId">Class</label>
                        <input type="text" class="form-control" id="buttonBackendClass_@hd.BackendId" @hd.GetName("BackendClass") value="@hd.BackendClass" />
                    </div>

                    <div class="form-group col-lg-6">
                        <label for="buttonBackendLabel_@hd.BackendId">Label</label>
                        <input type="text" class="form-control" id="buttonBackendLabel_@hd.BackendId" @hd.GetName("BackendLabel") value="@hd.BackendLabel" />
                    </div>

                    <div class="form-group col-lg-6">
                        <label for="backendIcon_@hd.BackendId">Icon</label>
                        <div class="input-group">
                            <input type="text" class="form-control" @hd.GetName("BackendIcon") id="backendIcon_@hd.BackendId" value="@hd.BackendIcon">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" id="selectIconBackend" type="button" onclick="showIcons('backend')">Select Icon</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="switch-control switch-control--inline">
                    <label for="buttonBackendVisible_@hd.BackendId" class="switch">
                        <input class="switch__input" id="buttonBackendVisible_@hd.BackendId" @hd.GetName("BackendVisible") type="checkbox" value="true" @hd.GetChecked(hd.BackendVisible)>
                        <span class="switch__state"></span>
                        <span class="switch__label">Default visible</span>
                    </label>
                </div>

                <div class="switch-control switch-control--inline">
                    <label for="iconBackendVisibility_@hd.BackendId" class="switch">
                        <input class="switch__input" id="iconBackendVisibility_@hd.BackendId" @hd.GetName("BackendIconVisibility") type="checkbox" value="true" @hd.GetChecked(hd.BackendIconVisibility)>
                        <span class="switch__state"></span>
                        <span class="switch__label">Icon Visibility</span>
                    </label>
                </div>
            </section>
        </li>

        <li>
            <header>Events Setting</header>
            <section>
                <div id="Events" class="events-setting">
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#onClick" data-toggle="tab" class="nav-link active">On Click Event</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="border:0px;">
                        <div class="tab-pane pt-4 pb-3 active" id="onClick">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 mb-12">
                                    <div class="target_option_wrapper">
                                        <div class="field-validation-wrapper">
                                            <div class="form-row">
                                                <div class="form-group col-md-6 mb-4">
                                                    <div class="switch-control">
                                                        <label for="IsOnChangeEvent_@hd.ElementId" class="switch">
                                                            <input class="switch__input" id="IsOnChangeEvent_@hd.ElementId" @hd.GetName("IsOnClickEvent") type="checkbox" value="true" @hd.GetChecked(hd.IsOnClickEvent)>
                                                            <span class="switch__state"></span>
                                                            <span class="switch__label">Enable Workflow Event</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <button onclick="openElementEventSetting(@formId,@hd.ElementId,@Convert.ToInt16(Cicero.Service.Enums.ElementEventType.OnClick))" type="button" class="btn btn-outline-primary form-control element-workflow">
                                                        <i class="ri-shape-line"></i> <span>Manage On Click Workflow Event</span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-12 mb-12">
                                    <div class="target_option_wrapper">
                                        <div class="field-validation-wrapper">
                                            <div class="form-row">
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="switch-control">
                                                        <label for="IsOnSaveFormEvent_@hd.ElementId" class="switch">
                                                            <input class="switch__input" id="IsOnSaveFormEvent_@hd.ElementId" @hd.GetName("IsOnSaveFormEvent") type="checkbox" value="true" @hd.GetChecked(hd.IsOnSaveFormEvent)>
                                                            <span class="switch__state"></span>
                                                            <span class="switch__label">Enable On Save Form Event</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-12 mb-12">
                                    <div class="target_option_wrapper">


                                        @{

                                            if (hd.TabId != null || hd.TabId != "")
                                            {
                                                <div class="field-validation-wrapper">
                                                    <div class="form-row">
                                                        @{
                                                            Cicero.Service.Models.Core.FormBuilderViewModel fbvm = hd.ModelData as Cicero.Service.Models.Core.FormBuilderViewModel;
                                                            var abc = fbvm;
                                                            List<SelectListItem>
                                                                SelectedElement = new List<SelectListItem>
                                                                    ();
                                                            if (fbvm != null)
                                                            {
                                                                int TabIndex = Convert.ToInt32(hd.TabIndex);

                                                                foreach (var tabVal in fbvm.Tab)
                                                                {
                                                                    if (Convert.ToInt32(tabVal.TabIndex) != TabIndex)
                                                                    {
                                                                        SelectListItem sli = new SelectListItem();
                                                                        sli.Text = tabVal.BackendLabel;
                                                                        sli.Value = tabVal.ElementId;
                                                                        SelectedElement.Add(sli);
                                                                    }

                                                                }
                                                            }

                                                        }
                                                        <div class="col-lg-6">
                                                            <select name="TabId" class="custom-select" data-name="TabId">
                                                                @{
                                                                    <option value="0">Please Select</option>
                                                                    if (SelectedElement != null)
                                                                    {
                                                                        foreach (SelectListItem si in SelectedElement)
                                                                        {
                                                                            <option selected="@(hd.TabId==si.Value)" value="@si.Value">@si.Text</option>
                                                                        }
                                                                    }

                                                                }

                                                            </select>
                                                        </div>
                                                        <div class="form-group col-md-6 mb-4">
                                                            <div class="switch-control">
                                                                <label for="IsOnSwitchTabEvent_@hd.ElementId" class="switch">
                                                                    <input class="switch__input" id="IsOnSwitchTabEvent_@hd.ElementId" @hd.GetName("IsOnSwitchTabEvent") type="checkbox" value="true" @hd.GetChecked(hd.IsOnSwitchTabEvent)>
                                                                    <span class="switch__state"></span>
                                                                    <span class="switch__label">Switch Tab</span>
                                                                </label>
                                                            </div>
                                                            <div class="switch-control">
                                                                <label for="IsValidateOnSwitchTabEvent_@hd.ElementId" class="switch">
                                                                    <input class="switch__input" id="IsValidateOnSwitchTabEvent_@hd.ElementId" @hd.GetName("IsValidateOnTabSwitch") type="checkbox" value="true" @hd.GetChecked(hd.IsValidateOnTabSwitch)>
                                                                    <span class="switch__state"></span>
                                                                    <span class="switch__label">Validate On Tab Switch</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            }
                                            else
                                            {
                                                <div class="field-validation-wrapper">
                                                    <div class="form-row">
                                                        @{
                                                            Cicero.Service.Models.Core.FormBuilderViewModel fbvm = hd.ModelData as Cicero.Service.Models.Core.FormBuilderViewModel;
                                                            var abc = fbvm;
                                                            List<SelectListItem>
                                                                SelectedElement = new List<SelectListItem>
                                                                    ();
                                                            if (fbvm != null)
                                                            {
                                                                int TabIndex = Convert.ToInt32(hd.TabIndex);

                                                                foreach (var tabVal in fbvm.Tab)
                                                                {
                                                                    if (Convert.ToInt32(tabVal.TabIndex) != TabIndex)
                                                                    {
                                                                        SelectListItem sli = new SelectListItem();
                                                                        sli.Text = tabVal.BackendLabel;
                                                                        sli.Value = tabVal.ElementId;
                                                                        SelectedElement.Add(sli);
                                                                    }

                                                                }
                                                            }

                                                        }
                                                        <div class="col-lg-6">
                                                            <select name="TabId" class="custom-select" data-name="TabId">
                                                                @{
                                                                    <option value="0">Please Select</option>

                                                                    if (SelectedElement != null)
                                                                    {
                                                                        foreach (SelectListItem si in SelectedElement)
                                                                        {
                                                                            <option value="@si.Value">@si.Text</option>
                                                                        }
                                                                    }
                                                                }
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-md-6 mb-4">
                                                            <div class="switch-control switch-control--inline">
                                                                <label for="IsOnSwitchTabEvent_@hd.ElementId" class="switch">
                                                                    <input class="switch__input" id="IsOnSwitchTabEvent_@hd.ElementId" @hd.GetName("IsOnSwitchTabEvent") type="checkbox" value="true" @hd.GetChecked(hd.IsOnSwitchTabEvent)>
                                                                    <span class="switch__state"></span>
                                                                    <span class="switch__label">Switch Tab</span>
                                                                </label>
                                                            </div>
                                                            <div class="switch-control switch-control--inline">
                                                                <label for="IsValidateOnSwitchTabEvent_@hd.ElementId" class="switch">
                                                                    <input class="switch__input" id="IsValidateOnSwitchTabEvent_@hd.ElementId" @hd.GetName("IsValidateOnTabSwitch") type="checkbox" value="true" @hd.GetChecked(hd.IsValidateOnTabSwitch)>
                                                                    <span class="switch__state"></span>
                                                                    <span class="switch__label">Validate On Tab Switch</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        }
                                    </div>
                                </div>
                            </div>
                            <ul class="nav nav-tabs">
                                <li class="active">
                                    <a href="#setValueSetting" data-toggle="tab" class="nav-link active">Set Value on Setting</a>
                                </li>
                                <li class="">
                                    <a href="#targetOptionSetting" data-toggle="tab" class="nav-link">Target Option Setting</a>
                                </li>
                            </ul>


                            <div class="tab-content p-lg-4">
                                <div class="tab-pane pt-4 pb-3 active" id="setValueSetting">
                                    @*<p class="mb-4">Choose states from the options available options to run workflow.</p>
                                        <div class="form-row mb-4">
                                            <div class="col-lg-6 form-group">
                                                <label for="hdStartState_@hd.ElementId">Select Start State</label>
                                                <select class="custom-select startState" id="hdStartState_@hd.ElementId" name="OnClickEvent[StartState]">
                                                    <option value="" selected>Please Select</option>
                                                    @foreach (var state in stateList)
                                                    {
                                                        if (hd.OnClickEvent != null)
                                                        {
                                                            if (hd.OnClickEvent.StartState == state.Value)
                                                            {
                                                                <option value="@state.Value" selected>@state.Text</option>

                                                            }
                                                            else
                                                            {
                                                                <option value="@state.Value">@state.Text</option>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <option value="@state.Value">@state.Text</option>
                                                        }

                                                    }

                                                </select>
                                            </div>
                                            <div class="col-lg-6 form-group">
                                                <label for="hdEndState_@hd.ElementId">Select End State</label>
                                                <select class="custom-select endState" id="hdEndState_@hd.ElementId" name="OnClickEvent[EndState]">
                                                    <option value="" selected>Please Select</option>
                                                    @foreach (var state in stateList)
                                                    {
                                                        if (hd.OnClickEvent != null)
                                                        {
                                                            if (hd.OnClickEvent.EndState == state.Value)
                                                            {
                                                                <option value="@state.Value" selected>@state.Text</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@state.Value">@state.Text</option>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <option value="@state.Value">@state.Text</option>
                                                        }

                                                    }

                                                </select>
                                            </div>
                                        </div>*@
                                    <p>Choose the Elements from which you want to take value from </p>
                                    <div class="validation-rule mb-4">
                                        <div class="validation-rule-table">
                                            <div class="validation-rule-head select-option-head">
                                                <div class="form-row">
                                                    <div class="col-lg-4">
                                                        <label>Value Field</label>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <label>Select Element</label>
                                                    </div>
                                                    <div class="col-lg-3">
                                                        <label>Enable Validation</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="validation-rule-body validation_rule_wrapper">
                                                @{
                                                    if (hd.OnClickEvent != null)
                                                    {
                                                        if (hd.OnClickEvent.TakeValueFromName != null && hd.OnClickEvent.TakeValueFromName.Count > 0)
                                                        {

                                                            int index1 = 0;
                                                            foreach (var so in hd.OnClickEvent.TakeValueFromName)
                                                            {
                                                                <div class="field-validation-wrapper">
                                                                    <div class="field-controller">
                                                                        <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                            <i class="ri-file-copy-line"></i>
                                                                            <span class="sr-only">Copy</span>
                                                                        </a>
                                                                        <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                            <i class="ri-close-line"></i>
                                                                            <span class="sr-only">Delete</span>
                                                                        </a>
                                                                        @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                    </div>
                                                                    <div class="form-row">
                                                                        <div class="col-lg-4">
                                                                            <input type="text" name="OnClickEvent[TakeValueFromName][@index1]" data-name="OnClickEvent[TakeValueFromName][{0}]" class="form-control" id="" placeholder="Value Field" value="@hd.OnClickEvent.TakeValueFromName[index1]">

                                                                        </div>
                                                                        <div class="col-lg-4">
                                                                            <select type="text" name="OnClickEvent[TakeValueFromElement][@index1]" data-name="OnClickEvent[TakeValueFromElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                                <option value="">Please Select</option>
                                                                                @foreach (var item in formElements)
                                                                                {
                                                                                    if (hd.OnClickEvent.TakeValueFromElement[index1] != null)
                                                                                    {
                                                                                        if (item.Value == hd.OnClickEvent.TakeValueFromElement[index1].ToString())
                                                                                        {
                                                                                            <option value="@item.Value" selected>@item.Text</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.Value">@item.Text</option>
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@item.Value">@item.Text</option>
                                                                                    }


                                                                                }
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-lg-3">
                                                                            <select type="text" name="OnClickEvent[TakeValueFromElementValidation][@index1]" data-name="OnClickEvent[TakeValueFromElementValidation][{0}]" class="custom-select" id="">




                                                                                @if (hd.OnClickEvent.TakeValueFromElementValidation != null && hd.OnClickEvent.TakeValueFromElementValidation[index1] != null)
                                                                                {
                                                                                    if ("False" == hd.OnClickEvent.TakeValueFromElementValidation[index1].ToString())
                                                                                    {
                                                                                        <option value="False" selected>False</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="False">False</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="False">False</option>
                                                                                }

                                                                                @if (hd.OnClickEvent.TakeValueFromElementValidation != null && hd.OnClickEvent.TakeValueFromElementValidation[index1] != null)
                                                                                {
                                                                                    if ("True" == hd.OnClickEvent.TakeValueFromElementValidation[index1].ToString())
                                                                                    {
                                                                                        <option value="True" selected>True</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="True">True</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="True">True</option>
                                                                                }


                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                                {
                                                                    index1++;
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <div class="field-validation-wrapper">
                                                                <div class="field-controller">
                                                                    <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                        <i class="ri-file-copy-line"></i>
                                                                        <span class="sr-only">Copy</span>
                                                                    </a>
                                                                    <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                        <i class="ri-close-line"></i>
                                                                        <span class="sr-only">Delete</span>
                                                                    </a>
                                                                    @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                </div>
                                                                <div class="form-row">

                                                                    <div class="col-lg-4">
                                                                        <input type="text" name="OnClickEvent[TakeValueFromName][0]" data-name="OnClickEvent[TakeValueFromName][{0}]" class="form-control" id="" placeholder="Value Filed">
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                        <select type="text" name="OnClickEvent[TakeValueFromElement][0]" data-name="OnClickEvent[TakeValueFromElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                            <option value="">Please Select</option>
                                                                            @foreach (var item in formElements)
                                                                            {
                                                                                <option value="@item.Value">@item.Text</option>
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-lg-3">
                                                                        <select type="text" name="OnClickEvent[TakeValueFromElementValidation][0]" data-name="OnClickEvent[TakeValueFromElementValidation][{0}]" class="custom-select" id="">
                                                                            <option value="False">False</option>
                                                                            <option value="True">True</option>
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <div class="field-validation-wrapper">
                                                            <div class="field-controller">
                                                                <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                    <i class="ri-file-copy-line"></i>
                                                                    <span class="sr-only">Copy</span>
                                                                </a>
                                                                <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                    <i class="ri-close-line"></i>
                                                                    <span class="sr-only">Delete</span>
                                                                </a>
                                                                @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                            </div>
                                                            <div class="form-row">

                                                                <div class="col-lg-4">
                                                                    <input type="text" name="OnClickEvent[TakeValueFromName][0]" data-name="OnClickEvent[TakeValueFromName][{0}]" class="form-control" id="" placeholder="Value Filed">
                                                                </div>
                                                                <div class="col-lg-4">
                                                                    <select type="text" name="OnClickEvent[TakeValueFromElement][0]" data-name="OnClickEvent[TakeValueFromElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                        <option value="">Please Select</option>
                                                                        @foreach (var item in formElements)
                                                                        {
                                                                            <option value="@item.Value">@item.Text</option>
                                                                        }
                                                                    </select>
                                                                </div>
                                                                <div class="col-lg-3">
                                                                    <select type="text" name="OnClickEvent[TakeValueFromElementValidation][0]" data-name="OnClickEvent[TakeValueFromElementValidation][{0}]" class="custom-select" id="">
                                                                        <option value="False">False</option>
                                                                        <option value="True">True</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                    </div>
                                    <p>Choose the Elements from which you want to set value To </p>
                                    <div class="validation-rule">
                                        <div class="validation-rule-table">
                                            <div class="validation-rule-head select-option-head">
                                                <div class="form-row">
                                                    <div class="col-lg-4">
                                                        <label>Returned Field</label>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <label>Select Element</label>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <label>Trigger Value Change Event</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="validation-rule-body validation_rule_wrapper">
                                                @{
                                                    if (hd.OnClickEvent != null)
                                                    {
                                                        if (hd.OnClickEvent.SetValueToName != null && hd.OnClickEvent.SetValueToName.Count > 0)
                                                        {
                                                            int index1 = 0;
                                                            foreach (var so in hd.OnClickEvent.SetValueToName)
                                                            {
                                                                <div class="field-validation-wrapper">
                                                                    <div class="field-controller">
                                                                        <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                            <i class="ri-file-copy-line"></i>
                                                                            <span class="sr-only">Copy</span>
                                                                        </a>
                                                                        <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                            <i class="ri-close-line"></i>
                                                                            <span class="sr-only">Delete</span>
                                                                        </a>
                                                                        @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                    </div>
                                                                    <div class="form-row">
                                                                        <div class="col-lg-4">
                                                                            <input type="text" name="OnClickEvent[SetValueToName][@index1]" data-name="OnClickEvent[SetValueToName][{0}]" class="form-control" id="" placeholder="Value Field" value="@hd.OnClickEvent.SetValueToName[index1]">

                                                                        </div>
                                                                        <div class="col-lg-4">
                                                                            <select type="text" name="OnClickEvent[SetValueToElement][@index1]" data-name="OnClickEvent[SetValueToElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                                <option>Please Select</option>
                                                                                @foreach (var item in formElements)
                                                                                {
                                                                                    if (hd.OnClickEvent.SetValueToElement[index1] != null)
                                                                                    {
                                                                                        if (item.Value == hd.OnClickEvent.SetValueToElement[index1].ToString())
                                                                                        {
                                                                                            <option value="@item.Value" selected>@item.Text</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="@item.Value">@item.Text</option>
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="@item.Value">@item.Text</option>
                                                                                    }


                                                                                }
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-lg-3">
                                                                            <select type="text" name="OnClickEvent[SetValueToEventTrigger][@index1]" data-name="OnClickEvent[SetValueToEventTrigger][{0}]" class="custom-select" id="">

                                                                                @if (hd.OnClickEvent.SetValueToEventTrigger != null && hd.OnClickEvent.SetValueToEventTrigger[index1] != null)
                                                                                {
                                                                                    if ("True" == hd.OnClickEvent.SetValueToEventTrigger[index1].ToString())
                                                                                    {
                                                                                        <option value="True" selected>True</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="True">True</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="True">True</option>
                                                                                }

                                                                                @if (hd.OnClickEvent.SetValueToEventTrigger != null && hd.OnClickEvent.SetValueToEventTrigger[index1] != null)
                                                                                {
                                                                                    if ("False" == hd.OnClickEvent.SetValueToEventTrigger[index1].ToString())
                                                                                    {
                                                                                        <option value="False" selected>False</option>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <option value="False">False</option>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="False">False</option>
                                                                                }


                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                                {
                                                                    index1++;
                                                                }
                                                            }

                                                        }
                                                        else
                                                        {
                                                            <div class="field-validation-wrapper">
                                                                <div class="field-controller">
                                                                    <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                        <i class="ri-file-copy-line"></i>
                                                                        <span class="sr-only">Copy</span>
                                                                    </a>
                                                                    <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                        <i class="ri-close-line"></i>
                                                                        <span class="sr-only">Delete</span>
                                                                    </a>
                                                                    @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                </div>
                                                                <div class="form-row">

                                                                    <div class="col-lg-4">
                                                                        <input type="text" name="OnClickEvent[SetValueToName][0]" data-name="OnClickEvent[SetValueToName][{0}]" class="form-control" id="" placeholder="Value Filed">
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                        <select type="text" name="OnClickEvent[SetValueToElement][0]" data-name="OnClickEvent[SetValueToElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                            <option>Please Select</option>
                                                                            @foreach (var item in formElements)
                                                                            {
                                                                                <option value="@item.Value">@item.Text</option>
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-lg-3">
                                                                        <select type="text" name="OnClickEvent[SetValueToEventTrigger][0]" data-name="OnClickEvent[SetValueToEventTrigger][{0}]" class="custom-select" id="">
                                                                            <option value="True">True</option>
                                                                            <option value="False">False</option>
                                                                        </select>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <div class="field-validation-wrapper">
                                                            <div class="field-controller">
                                                                <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                    <i class="ri-file-copy-line"></i>
                                                                    <span class="sr-only">Copy</span>
                                                                </a>
                                                                <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                    <i class="ri-close-line"></i>
                                                                    <span class="sr-only">Delete</span>
                                                                </a>
                                                                @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                            </div>
                                                            <div class="form-row">

                                                                <div class="col-lg-4">
                                                                    <input type="text" name="OnClickEvent[SetValueToName][0]" data-name="OnClickEvent[SetValueToName][{0}]" class="form-control" id="" placeholder="Value Filed">
                                                                </div>
                                                                <div class="col-lg-4">
                                                                    <select type="text" name="OnClickEvent[SetValueToElement][0]" data-name="OnClickEvent[SetValueToElement][{0}]" class="custom-select" id="" placeholder="Text Field">
                                                                        <option>Please Select</option>
                                                                        @foreach (var item in formElements)
                                                                        {
                                                                            <option value="@item.Value">@item.Text</option>
                                                                        }
                                                                    </select>
                                                                </div>
                                                                <div class="col-lg-3">
                                                                    <select type="text" name="OnClickEvent[SetValueToEventTrigger][0]" data-name="OnClickEvent[SetValueToEventTrigger][{0}]" class="custom-select" id="">
                                                                        <option value="True">True</option>
                                                                        <option value="False">False</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane pt-4 pb-3" id="targetOptionSetting">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="switch-control">
                                                <label for="IsOnResponseTarget@hd.ElementId" class="switch">
                                                    <input class="switch__input" id="IsOnResponseTarget@hd.ElementId" @hd.GetName("IsOnResponseTarget") type="checkbox" value="true" @hd.GetChecked(hd.IsOnResponseTarget)>
                                                    <span class="switch__state"></span>
                                                    <span class="switch__label">Enable Target On Response</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <p>Input the response value and select the Target Element </p>
                                            <div class="validation-rule mb-4">
                                                <div class="validation-rule-table">
                                                    <div class="validation-rule-head select-option-head">
                                                        <div class="form-row">
                                                            <div class="col-lg-3">
                                                                <label>Response Value</label>
                                                            </div>
                                                            <div class="col-lg-3">
                                                                <label>Select Element</label>
                                                            </div>
                                                            <div class="col-lg-5">

                                                                <label>Option</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="validation-rule-body validation_rule_wrapper">
                                                        @{
                                                            if (hd.IsOnResponseTarget != null)
                                                            {
                                                                if (hd.TargetSettingsOnResponse != null && hd.TargetSettingsOnResponse.Count > 0)
                                                                {

                                                                    int index1 = 0;
                                                                    foreach (var so in hd.TargetSettingsOnResponse)
                                                                    {
                                                                        <div class="field-validation-wrapper">
                                                                            <div class="field-controller">
                                                                                <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                    <i class="ri-file-copy-line"></i>
                                                                                    <span class="sr-only">Copy</span>
                                                                                </a>
                                                                                <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                    <i class="ri-close-line"></i>
                                                                                    <span class="sr-only">Delete</span>
                                                                                </a>
                                                                                @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                            </div>
                                                                            <div class="form-row">
                                                                                <div class="col-lg-3">
                                                                                    <input type="text" name="TargetSettingsOnResponse[@index1][SelectValue]" data-name="TargetSettingsOnResponse[{0}][SelectValue]" class="form-control" id="" placeholder="Value Field" value="@hd.TargetSettingsOnResponse[index1].SelectValue">

                                                                                </div>
                                                                                <div class="col-lg-3">
                                                                                    <select type="text" name="TargetSettingsOnResponse[@index1][TargetId]" data-name="TargetSettingsOnResponse[{0}][TargetId]" class="custom-select" id="" placeholder="Text Field">
                                                                                        <option value="">Please Select</option>
                                                                                        @foreach (var item in formAllElements)
                                                                                        {
                                                                                            if (hd.TargetSettingsOnResponse[index1].TargetId != null)
                                                                                            {
                                                                                                if (item.Value == hd.TargetSettingsOnResponse[index1].TargetId.ToString())
                                                                                                {
                                                                                                    <option value="@item.Value" selected>@item.Text</option>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <option value="@item.Value">@item.Text</option>
                                                                                                }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <option value="@item.Value">@item.Text</option>
                                                                                            }


                                                                                        }
                                                                                    </select>
                                                                                </div>
                                                                                <div class="col-lg-5">
                                                                                    <select type="text" name="TargetSettingsOnResponse[@index1][Option]" data-name="TargetSettingsOnResponse[{0}][Option]" class="custom-select" id="">
                                                                                        <option value="">Please Select</option>
                                                                                        <option value="enable" @(hd.TargetSettingsOnResponse[index1].Option == "enable" ? "selected" : "")>Enable</option>
                                                                                        <option value="disable" @(hd.TargetSettingsOnResponse[index1].Option == "disable" ? "selected" : "")>Disable</option>
                                                                                        <option value="hide" @(hd.TargetSettingsOnResponse[index1].Option == "hide" ? "selected" : "")>Hide</option>
                                                                                        <option value="show" @(hd.TargetSettingsOnResponse[index1].Option == "show" ? "selected" : "")>Show</option>
                                                                                    </select>
                                                                                    <br />
                                                                                    <div class="switch-control">
                                                                                        <label class="switch" @*for="TargetOptions1_@(index1 + " _ShowHide_" +hd.ElementId)"*@>
                                                                                            <input type="checkbox" name="TargetSettingsOnResponse[@index1][HasSubTarget]" class="switch__input" data-name="TargetSettingsOnResponse[{0}][HasSubTarget]" value="True" @*id="TargetOptions1_@(index1 + " _ShowHide_" +hd.ElementId)"*@ checked="@hd.TargetSettingsOnResponse[index1].HasSubTarget">
                                                                                            <span class="switch__state"></span>
                                                                                            <span class="switch__label">Has Sub-Target</span>
                                                                                        </label>
                                                                                    </div>
                                                                                    <br />
                                                                                    <div class="validation-rule-body validation_rule_wrapper">
                                                                                        @if (hd.TargetSettingsOnResponse[index1].HasSubTarget)
                                                                                        {
                                                                                            int index2 = 0;
                                                                                            if (hd.TargetSettingsOnResponse[index1].SubTarget != null)
                                                                                            {

                                                                                                foreach (var sub in hd.TargetSettingsOnResponse[index1].SubTarget)
                                                                                                {
                                                                                                    <div class="field-validation-wrapper">
                                                                                                        <div class="field-controller">
                                                                                                            <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                                                <i class="ri-file-copy-line"></i>
                                                                                                                <span class="sr-only">Copy</span>
                                                                                                            </a>
                                                                                                            <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                                                <i class="ri-close-line"></i>
                                                                                                                <span class="sr-only">Delete</span>
                                                                                                            </a>
                                                                                                            @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                                                        </div>
                                                                                                        <div class="form-row">
                                                                                                            <div class="col-lg-5">
                                                                                                                <input type="text" name="TargetSettingsOnResponse[@index1][SubTarget][@index2][Value]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Value]" class="form-control" id="" placeholder="Value Field" value="@hd.TargetSettingsOnResponse[index1].SubTarget[index2].Value">

                                                                                                            </div>
                                                                                                            <div class="col-lg-5">
                                                                                                                <select type="text" name="TargetSettingsOnResponse[@index1][SubTarget][@index2][Option]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Option]" class="custom-select" id="">
                                                                                                                    <option value="">Please Select</option>
                                                                                                                    <option value="enable" @(hd.TargetSettingsOnResponse[index1].SubTarget[index2].Option == "enable" ? "selected" : "")>Enable</option>
                                                                                                                    <option value="disable" @(hd.TargetSettingsOnResponse[index1].SubTarget[index2].Option == "disable" ? "selected" : "")>Disable</option>
                                                                                                                    <option value="hide" @(hd.TargetSettingsOnResponse[index1].SubTarget[index2].Option == "hide" ? "selected" : "")>Hide</option>
                                                                                                                    <option value="show" @(hd.TargetSettingsOnResponse[index1].SubTarget[index2].Option == "show" ? "selected" : "")>Show</option>
                                                                                                                </select>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    index2++;
                                                                                                }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <div class="field-validation-wrapper">
                                                                                                    <div class="field-controller">
                                                                                                        <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                                            <i class="ri-file-copy-line"></i>
                                                                                                            <span class="sr-only">Copy</span>
                                                                                                        </a>
                                                                                                        <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                                            <i class="ri-close-line"></i>
                                                                                                            <span class="sr-only">Delete</span>
                                                                                                        </a>
                                                                                                        @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                                                    </div>
                                                                                                    <div class="form-row">
                                                                                                        <div class="col-lg-5">
                                                                                                            <input type="text" name="TargetSettingsOnResponse[@index1][SubTarget][0][Value]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Value]" class="form-control" id="" placeholder="Value Field">

                                                                                                        </div>
                                                                                                        <div class="col-lg-5">
                                                                                                            <select type="text" name="TargetSettingsOnResponse[@index1][SubTarget][0][Option]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Option]" class="custom-select" id="">
                                                                                                                <option value="">Please Select</option>
                                                                                                                <option value="enable">Enable</option>
                                                                                                                <option value="disable">Disable</option>
                                                                                                                <option value="hide">Hide</option>
                                                                                                                <option value="show">Show</option>
                                                                                                            </select>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <div class="field-validation-wrapper">
                                                                                                <div class="field-controller">
                                                                                                    <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                                        <i class="ri-file-copy-line"></i>
                                                                                                        <span class="sr-only">Copy</span>
                                                                                                    </a>
                                                                                                    <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                                        <i class="ri-close-line"></i>
                                                                                                        <span class="sr-only">Delete</span>
                                                                                                    </a>
                                                                                                    @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                                                </div>
                                                                                                <div class="form-row">
                                                                                                    <div class="col-lg-5">
                                                                                                        <input type="text" name="TargetSettingsOnResponse[@index1][SubTarget][0][Value]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Value]" class="form-control" id="" placeholder="Value Field">

                                                                                                    </div>
                                                                                                    <div class="col-lg-5">
                                                                                                        <select type="text" name="TargetSettingsOnResponse[@index1][SubTarget][0][Option]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Option]" class="custom-select" id="">
                                                                                                            <option value="">Please Select</option>
                                                                                                            <option value="enable">Enable</option>
                                                                                                            <option value="disable">Disable</option>
                                                                                                            <option value="hide">Hide</option>
                                                                                                            <option value="show">Show</option>
                                                                                                        </select>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        }
                                                                                    </div>


                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        {
                                                                            index1++;
                                                                        }
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <div class="field-validation-wrapper">
                                                                        <div class="field-controller">
                                                                            <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                <i class="ri-file-copy-line"></i>
                                                                                <span class="sr-only">Copy</span>
                                                                            </a>
                                                                            <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                <i class="ri-close-line"></i>
                                                                                <span class="sr-only">Delete</span>
                                                                            </a>
                                                                            @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                        </div>
                                                                        <div class="form-row">

                                                                            <div class="col-lg-3">
                                                                                <input type="text" name="TargetSettingsOnResponse[0][SelectValue]" data-name="TargetSettingsOnResponse[{0}][SelectValue]" class="form-control" id="" placeholder="Value Field">
                                                                            </div>
                                                                            <div class="col-lg-3">
                                                                                <select type="text" name="TargetSettingsOnResponse[0][TargetId]" data-name="TargetSettingsOnResponse[{0}][TargetId]" class="custom-select" id="" placeholder="Text Field">
                                                                                    <option value="">Please Select</option>
                                                                                    @foreach (var item in formAllElements)
                                                                                    {

                                                                                        <option value="@item.Value">@item.Text</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-lg-5">
                                                                                <select type="text" name="TargetSettingsOnResponse[0][Option]" data-name="TargetSettingsOnResponse[{0}][Option]" class="custom-select" id="">
                                                                                    <option value="">Please Select</option>
                                                                                    <option value="enable">Enable</option>
                                                                                    <option value="disable">Disable</option>
                                                                                    <option value="hide">Hide</option>
                                                                                    <option value="show">Show</option>
                                                                                </select>
                                                                                <br />
                                                                                <div class="switch-control">
                                                                                    <label class="switch" @*for="TargetOptions1_{0}_TargetId_@hd.FrontendId" *@>
                                                                                        <input type="checkbox" name="TargetSettingsOnResponse[0][HasSubTarget]" class="switch__input" data-name="TargetSettingsOnResponse[{0}][HasSubTarget]" value="True" @*id="TargetOptions1_{0}_TargetId_@hd.FrontendId" *@ checked="">
                                                                                        <span class="switch__state"></span>
                                                                                        <span class="switch__label">Has Sub-Target</span>
                                                                                    </label>
                                                                                </div>
                                                                                <br />
                                                                                <div class="validation-rule-body validation_rule_wrapper">
                                                                                    <div class="field-validation-wrapper">
                                                                                        <div class="field-controller">
                                                                                            <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                                <i class="ri-file-copy-line"></i>
                                                                                                <span class="sr-only">Copy</span>
                                                                                            </a>
                                                                                            <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                                <i class="ri-close-line"></i>
                                                                                                <span class="sr-only">Delete</span>
                                                                                            </a>
                                                                                            @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                                        </div>
                                                                                        <div class="form-row">
                                                                                            <div class="col-lg-5">
                                                                                                <input type="text" name="TargetSettingsOnResponse[0][SubTarget][0][Value]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Value]" class="form-control" id="" placeholder="Value Field">

                                                                                            </div>
                                                                                            <div class="col-lg-5">
                                                                                                <select type="text" name="TargetSettingsOnResponse[0][SubTarget][0][Option]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Option]" class="custom-select" id="">
                                                                                                    <option value="" selected>Please Select</option>
                                                                                                    <option value="enable">Enable</option>
                                                                                                    <option value="disable">Disable</option>
                                                                                                    <option value="hide">Hide</option>
                                                                                                    <option value="show">Show</option>
                                                                                                </select>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <div class="field-validation-wrapper">
                                                                    <div class="field-controller">
                                                                        <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                            <i class="ri-file-copy-line"></i>
                                                                            <span class="sr-only">Copy</span>
                                                                        </a>
                                                                        <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                            <i class="ri-close-line"></i>
                                                                            <span class="sr-only">Delete</span>
                                                                        </a>
                                                                        @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                    </div>
                                                                    <div class="form-row">

                                                                        <div class="col-lg-3">
                                                                            <input type="text" name="TargetSettingsOnResponse[0][SelectValue]" data-name="TargetSettingsOnResponse[{0}][SelectValue]" class="form-control" id="" placeholder="Value Field">
                                                                        </div>
                                                                        <div class="col-lg-3">
                                                                            <select type="text" name="TargetSettingsOnResponse[0][TargetId]" data-name="TargetSettingsOnResponse[{0}][TargetId]" class="custom-select" id="" placeholder="Text Field">
                                                                                <option value="">Please Select</option>
                                                                                @foreach (var item in formAllElements)
                                                                                {

                                                                                    <option value="@item.Value">@item.Text</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-lg-5">
                                                                            <select type="text" name="TargetSettingsOnResponse[0][Option]" data-name="TargetSettingsOnResponse[{0}][Option]" class="custom-select" id="">
                                                                                <option value="">Please Select</option>
                                                                                <option value="enable">Enable</option>
                                                                                <option value="disable">Disable</option>
                                                                                <option value="hide">Hide</option>
                                                                                <option value="show">Show</option>
                                                                            </select>
                                                                            <br />
                                                                            <div class="switch-control">
                                                                                <label class="switch" @*for="TargetOptions1_{0}_TargetId_@hd.FrontendId" *@>
                                                                                    <input type="checkbox" name="TargetSettingsOnResponse[0][HasSubTarget]" class="switch__input" data-name="TargetSettingsOnResponse[{0}][HasSubTarget]" value="True" @*id="TargetOptions1_{0}_TargetId_@hd.FrontendId" *@ checked="">
                                                                                    <span class="switch__state"></span>
                                                                                    <span class="switch__label">Has Sub-Target</span>
                                                                                </label>
                                                                            </div>
                                                                            <br />
                                                                            <div class="validation-rule-body validation_rule_wrapper">
                                                                                <div class="field-validation-wrapper">
                                                                                    <div class="field-controller">
                                                                                        <a class="fc-icon icon-copy" data-action='clone-rule' title="Copy">
                                                                                            <i class="ri-file-copy-line"></i>
                                                                                            <span class="sr-only">Copy</span>
                                                                                        </a>
                                                                                        <a class="fc-icon icon-delete" data-action='remove-rule' title="Delete">
                                                                                            <i class="ri-close-line"></i>
                                                                                            <span class="sr-only">Delete</span>
                                                                                        </a>
                                                                                        @*<a class="fc-icon icon-timer" data-action='short-selectoption'><i class="ri-timer-2-line"></i></a>*@
                                                                                    </div>
                                                                                    <div class="form-row">
                                                                                        <div class="col-lg-5">
                                                                                            <input type="text" name="TargetSettingsOnResponse[0][SubTarget][0][Value]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Value]" class="form-control" id="" placeholder="Value Field">

                                                                                        </div>
                                                                                        <div class="col-lg-5">
                                                                                            <select type="text" name="TargetSettingsOnResponse[0][SubTarget][0][Option]" data-name="TargetSettingsOnResponse[{0}][SubTarget][{1}][Option]" class="custom-select" id="">
                                                                                                <option value="" selected>Please Select</option>
                                                                                                <option value="enable">Enable</option>
                                                                                                <option value="disable">Disable</option>
                                                                                                <option value="hide">Hide</option>
                                                                                                <option value="show">Show</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </li>

        <li>
            <header>Permission</header>
            <section>
                <div class="table-responsive">
                    <table class="table table-custom">
                        <thead>
                            <tr>
                                <th>Role Name</th>
                                <th>Write</th>
                                <th>Read</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{int index = 0;
                                foreach (var role in commonService.GetRoleList())
                                {
                                    var Roledata = hd.Permissions?.Where(p => p.RoleId == role.Value).FirstOrDefault();
                                    if (Roledata != null)
                                    {

                                        <tr>
                                            <td>
                                                @role.Text
                                                <input class="form-control" type="hidden" name="Permissions[@index][RoleId]" value="@role.Value">
                                            </td>
                                            <td>
                                                <div class="custom-control custom-checkbox">
                                                    <input class="custom-control-input" name="Permissions[@index][Write]" type="checkbox" value="true" checked="@Roledata.Write" id="Permissions_@(index + "_Write_" + hd.FrontendId)">
                                                    <label class="custom-control-label" for="Permissions_@(index + "_Write_" + hd.FrontendId)"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="custom-control custom-checkbox">
                                                    <input class="custom-control-input" name="Permissions[@index][Read]" type="checkbox" value="true" checked="@Roledata.Read" id="Permissions_@(index + "_Read_" + hd.FrontendId)">
                                                    <label class="custom-control-label" for="Permissions_@(index + "_Read_" + hd.FrontendId)"></label>
                                                </div>
                                            </td>
                                        </tr>

                                    }
                                    else
                                    {
                                        <tr>
                                            <td>
                                                @role.Text
                                                <input class="form-control" type="hidden" name="Permissions[@index][RoleId]" value="@role.Value">
                                            </td>

                                            <td>
                                                <div class="custom-control custom-checkbox">
                                                    <input class="custom-control-input" name="Permissions[@index][Write]" type="checkbox" value="true" checked="checked" id="Permissions_@(index + "_Write_" + hd.FrontendId)">
                                                    <label class="custom-control-label" for="Permissions_@(index + "_Write_" + hd.FrontendId)"></label>
                                                </div>
                                            </td>

                                            <td>
                                                <div class="custom-control custom-checkbox">
                                                    <input class="custom-control-input" name="Permissions[@index][Read]" type="checkbox" value="true" checked="checked" id="Permissions_@(index + "_Read_" + hd.FrontendId)">
                                                    <label class="custom-control-label" for="Permissions_@(index + "_Read_" + hd.FrontendId)"></label>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                    index++;
                                }
                            }
                        </tbody>

                    </table>
                </div>
            </section>
        </li>

        <li>
            <header>Target Options</header>
            <section>
                <div class="validation-rule-head select-option-head">
                    <div class="form-row">

                        <div class="col-lg-3">
                            <label>Select Element</label>
                        </div>
                        <div class="col-lg-3">
                            <label>Select Option</label>
                        </div>
                    </div>
                </div>
                <div class="target_option_wrapper">
                    @{

                        if (hd.TargetOptions != null && hd.TargetOptions.Count > 0)
                        {
                            int tgoIndex = 0;
                            foreach (var to in hd.TargetOptions)
                            {
                                <div class="field-validation-wrapper">
                                    <div class="field-controller">
                                        <a class="fc-icon icon-copy" data-action='clone-TargetingOption' title="Copy">
                                            <i class="ri-file-copy-line"></i>
                                            <span class="sr-only">Copy</span>
                                        </a>
                                        <a class="fc-icon icon-delete" data-action='remove-TargetingOption' title="Delete">
                                            <i class="ri-close-line"></i>
                                            <span class="sr-only">Delete</span>
                                        </a>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-lg-3">
                                            <select name="TargetOptions[@tgoIndex][TargetId]" class="custom-select" data-name="TargetOptions[{0}][TargetId]">
                                                @{
                                                    <option value="0">Please Select</option>

                                                    if (formAllElements != null)
                                                    {
                                                        foreach (SelectListItem si in formAllElements)
                                                        {
                                                            <option selected="@(to.TargetId==si.Value)" value="@si.Value">@si.Text</option>
                                                        }
                                                    }

                                                }

                                            </select>
                                        </div>
                                        <div class="col-lg-3">
                                            <select name="TargetOptions[@tgoIndex][ShowHide]" class="custom-select" data-name="TargetOptions[{0}][ShowHide]">
                                                <option value="0">Please Select</option>
                                                @foreach (SelectListItem op in hd.TargetSelectOptions())
                                                {
                                                    <option selected="@(to.ShowHide==op.Value)" value="@op.Value">@op.Text</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                { tgoIndex++; }
                            }

                        }
                        else
                        {
                            <div class="field-validation-wrapper">
                                <div class="field-controller">
                                    <a class="fc-icon icon-copy" data-action='clone-TargetingOption' title="Copy">
                                        <i class="ri-file-copy-line"></i>
                                        <span class="sr-only">Copy</span>
                                    </a>
                                    <a class="fc-icon icon-delete" data-action='remove-TargetingOption' title="Delete">
                                        <i class="ri-close-line"></i>
                                        <span class="sr-only">Delete</span>
                                    </a>
                                </div>
                                <div class="form-row">
                                    <div class="col-lg-3">
                                        <select name="TargetOptions[0][TargetId]" class="custom-select" data-name="TargetOptions[{0}][TargetId]">
                                            @{
                                                <option value="0">Please Select</option>

                                                if (formAllElements != null)
                                                {
                                                    foreach (SelectListItem si in formAllElements)
                                                    {
                                                        <option value="@si.Value">@si.Text</option>
                                                    }
                                                }

                                            }

                                        </select>
                                    </div>
                                    <div class="col-lg-3">
                                        <select name="TargetOptions[0][ShowHide]" class="custom-select" data-name="TargetOptions[{0}][ShowHide]">
                                            <option value="0">Please Select</option>
                                            @foreach (SelectListItem op in hd.TargetSelectOptions())
                                            {
                                                <option value="@op.Value">@op.Text</option>
                                            }
                                        </select>
                                    </div>
                                </div>
                            </div>
                        }
                    }


                </div>
            </section>
        </li>
        <li>
            <header>PopUp Target</header>
            <section>
                <span class="text">Select Element to show on popup</span>
                <div class="form-group">
                    <div class="switch-control">
                        <label for="hyperLinkPopUp_@hd.FrontendId" class="switch">
                            <input class="switch__input" id="hyperLinkPopUp_@hd.FrontendId" @hd.GetName("EnablePopup") type="checkbox" value="true" @hd.GetChecked(hd.EnablePopup)>
                            <span class="switch__state"></span>
                            <span class="switch__label">Enable Pop Up</span>
                        </label>
                    </div>

                    <div class="switch-control">
                        <label for="hyperLinkDisablePopUp_@hd.FrontendId" class="switch">
                            <input class="switch__input" id="hyperLinkDisablePopUp_@hd.FrontendId" @hd.GetName("DisablePopupClose") type="checkbox" value="true" @hd.GetChecked(hd.DisablePopupClose)>
                            <span class="switch__state"></span>
                            <span class="switch__label">Disable Popup Close</span>
                        </label>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-lg-6 form-group">
                        <label for="PopUpTitle_@hd.FrontendId">Popup Title</label>
                        <input type="text" value="@hd.PopUpTitle" class="form-control" name="PopUpTitle" id="PopUpTitle_@hd.FrontendId">
                    </div>
                    <div class="col-lg-6 form-group">
                        <label for="PopUpClass_@hd.FrontendId">Popup Class</label>
                        <input type="text" value="@hd.PopUpClass" class="form-control" name="PopUpClass" id="PopUpClass_@hd.FrontendId">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-lg-12">
                        <div class="target_option_wrapper">
                            @{
                                if (hd.PopUpTarget != null && hd.PopUpTarget.Count > 0)
                                {
                                    int tgoIndex = 0;
                                    foreach (var to in hd.PopUpTarget)
                                    {
                                        <div class="field-validation-wrapper">
                                            <div class="field-controller">
                                                <a class="fc-icon icon-copy" data-action='clone-TargetingOption' title="Copy">
                                                    <i class="ri-file-copy-line"></i>
                                                    <span class="sr-only">Copy</span>
                                                </a>
                                                <a class="fc-icon icon-delete" data-action='remove-TargetingOption' title="Delete">
                                                    <i class="ri-close-line"></i>
                                                    <span class="sr-only">Delete</span>
                                                </a>
                                            </div>
                                            <div class="form-row">
                                                <div class="col-lg-3">
                                                    <select name="PopUpTarget[@tgoIndex]" class="custom-select" data-name="PopUpTarget[{0}]">
                                                        @{
                                                            <option value="">Please Select</option>

                                                            if (formAllElements != null)
                                                            {
                                                                foreach (SelectListItem si in formAllElements)
                                                                {
                                                                    <option selected="@(hd.PopUpTarget[tgoIndex]==si.Value)" value="@si.Value">@si.Text</option>
                                                                }
                                                            }

                                                        }

                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        { tgoIndex++; }
                                    }

                                }
                                else
                                {
                                    <div class="field-validation-wrapper">
                                        <div class="field-controller">
                                            <a class="fc-icon icon-copy" data-action='clone-TargetingOption' title="Copy">
                                                <i class="ri-file-copy-line"></i>
                                                <span class="sr-only">Copy</span>
                                            </a>
                                            <a class="fc-icon icon-delete" data-action='remove-TargetingOption' title="Delete">
                                                <i class="ri-close-line"></i>
                                                <span class="sr-only">Delete</span>
                                            </a>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-lg-3">
                                                <select name="PopUpTarget[0]" class="custom-select" data-name="PopUpTarget[{0}]">
                                                    @{
                                                        <option value="">Please Select</option>

                                                        if (formElements != null)
                                                        {
                                                            foreach (SelectListItem si in formAllElements)
                                                            {
                                                                <option value="@si.Value">@si.Text</option>
                                                            }
                                                        }

                                                    }

                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }


                        </div>

                    </div>
                </div>
            </section>
        </li>
        <li>
            <header>Developer Options</header>
            <section>
                <div class="form-row">
                    <div class="form-group col-lg-6">
                        <label for="Template_@hd.ElementId">Template</label>
                        <input type="text" class="form-control" id="Template_@hd.ElementId" @hd.GetName("Template") value="@hd.Template">
                    </div>
                    <div class="form-group col-lg-6">
                        <label for="buttonWrapperTemplate_@hd.ElementId">WrapperTemplate</label>
                        <input type="text" class="form-control" id="buttonWrapperTemplate_@hd.ElementId" @hd.GetName("WrapperTemplate") value="@hd.WrapperTemplate" />
                    </div>

                </div>
            </section>
        </li>
    </ul>
</div>

<script>
    var selectedIcon = "";
    $(function () {

        $(".icon-item").on('click', function () {
            $(".icon-item").removeClass('active');
            selectedIcon = $(this).find(".icon-info").find("i").attr("class")
            $(this).addClass('active');
        });
    });

    function showIcons(e) {
        $("#modal-select-icon").modal("show");
        selectedIcon = "";
        $(".icon-item").removeClass('active');
        $("#btn-select-icon").attr("onclick", "setIconOnTab('" + e + "')");
    }



    function setIconOnTab(e) {
        console.log("here");
        if (selectedIcon != "") {
            if (e == "frontend") {
                $("[name='FrontendIcon']").val(selectedIcon);
            }
            else {
                $("[name='BackendIcon']").val(selectedIcon);
            }
        }
        else {

        }

    }
</script>
